# ProxyX 配置文件

# ============================================================
# MySQL 代理配置
# ============================================================
mysql_proxy:
  enabled: true                   # 是否启用MySQL代理
  addr: "127.0.0.1:4000"         # 代理监听地址
  target: "127.0.0.1:3306"       # MySQL服务器地址
  user: "root"                    # 用户名
  password: "123456"              # 密码
  database: ""                    # 默认数据库（可为空）

# ============================================================
# Redis 代理配置
# ============================================================
redis_proxy:
  enabled: true                   # 是否启用Redis代理
  addr: "127.0.0.1:6400"         # 代理监听地址
  target: "127.0.0.1:6379"       # Redis服务器地址

# ============================================================
# MySQL 代理插件配置
# ============================================================
mysql_plugins:
  # 日志插件 - 打印SQL到控制台
  log:
    enabled: true

  # Redis插件 - 推送SQL到Redis
  redis:
    enabled: true                  # 是否启用
    addr: "127.0.0.1:6379"        # Redis地址
    password: ""                   # Redis密码
    db: 0                          # Redis数据库
    channel: "mysql:queries"       # 发布频道（PUBLISH模式）
    list_key: "mysql:query_list"   # 列表键名（LPUSH模式）
    max_list_len: 1000             # 列表最大长度（0表示不限制）
    use_list: false                # true: 使用LPUSH, false: 使用PUBLISH

# ============================================================
# Redis 代理插件配置
# ============================================================
redis_plugins:
  # 日志插件 - 打印Redis命令到控制台
  log:
    enabled: true

  # Redis插件 - 推送命令到Redis
  redis:
    enabled: true                  # 是否启用
    addr: "127.0.0.1:6379"        # Redis地址
    password: ""                   # Redis密码
    db: 0                          # Redis数据库
    channel: "redis:commands"      # 发布频道（PUBLISH模式）
    list_key: "redis:command_list" # 列表键名（LPUSH模式）
    max_list_len: 1000             # 列表最大长度（0表示不限制）
    use_list: false                # true: 使用LPUSH, false: 使用PUBLISH
